<!DOCTYPE html>
<html>
<head>
    <title>Select Branch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="font-family:Arial; padding:20px;">

<h3>Select Your Branch</h3>

<form method="post" action="/set-branch">

    <label>Branch Code & Name</label><br><br>

    <select name="branch_code" id="branch_code" required style="padding:10px; width:100%;">
        <option value="">-- Select Branch --</option>
        {% for b in branches %}
            <option value="{{ b.code }}" data-name="{{ b.name }}">
                {{ b.code }} â€“ {{ b.name }}
            </option>
        {% endfor %}
    </select>

    <input type="hidden" name="branch_name" id="branch_name">

    <br><br>
    <button type="submit" style="padding:10px 20px;">
        Proceed
    </button>
</form>

<script>
document.getElementById("branch_code").addEventListener("change", function () {
    var selected = this.options[this.selectedIndex];
    document.getElementById("branch_name").value = selected.getAttribute("data-name");
});
</script>

</body>
    </html>
